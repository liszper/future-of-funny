shadow$provide.module$node_modules$$chakra_ui$react_use_pan_event$dist$index=function(global,require,module,exports){function subtract(a,b){return{x:a.x-b.x,y:a.y-b.y}}function getPanInfo(info,history){return{point:info.point,delta:subtract(info.point,history[history.length-1]),offset:subtract(info.point,history[0]),velocity:getVelocity(history,.1)}}function getVelocity(history,timeDelta){if(2>history.length)return{x:0,y:0};let i=history.length-1;var timestampedPoint=null;const lastPoint=history[history.length-
1];for(;0<=i;){timestampedPoint=history[i];if(lastPoint.timestamp-timestampedPoint.timestamp>1E3*timeDelta)break;i--}if(!timestampedPoint)return{x:0,y:0};history=(lastPoint.timestamp-timestampedPoint.timestamp)/1E3;if(0===history)return{x:0,y:0};timestampedPoint={x:(lastPoint.x-timestampedPoint.x)/history,y:(lastPoint.y-timestampedPoint.y)/history};Infinity===timestampedPoint.x&&(timestampedPoint.x=0);Infinity===timestampedPoint.y&&(timestampedPoint.y=0);return timestampedPoint}function pipe(...fns){return v=>
fns.reduce((a,b)=>b(a),v)}function usePanEvent(ref,options){const {onPan,onPanStart,onPanEnd,onPanSessionStart,onPanSessionEnd,threshold}=options,hasPanEvents=!!(onPan||onPanStart||onPanEnd||onPanSessionStart||onPanSessionEnd),panSession=(0,import_react.useRef)(null),handlersRef=(0,import_react_use_latest_ref.useLatestRef)({onSessionStart:onPanSessionStart,onSessionEnd:onPanSessionEnd,onStart:onPanStart,onMove:onPan,onEnd(event,info){panSession.current=null;null==onPanEnd?void 0:onPanEnd(event,info)}});
(0,import_react.useEffect)(()=>{var _a;null==(_a=panSession.current)?void 0:_a.updateHandlers(handlersRef.current)});(0,import_react.useEffect)(()=>{const node=ref.current;if(node&&hasPanEvents)return(0,import_event_utils2.addPointerEvent)(node,"pointerdown",function(event){panSession.current=new PanEvent(event,handlersRef.current,threshold)})},[ref,hasPanEvents,handlersRef,threshold]);(0,import_react.useEffect)(()=>()=>{var _a;null==(_a=panSession.current)?void 0:_a.end();panSession.current=null},
[])}var __create=Object.create,__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__copyProps=(to,from,except,desc)=>{if(from&&"object"===typeof from||"function"===typeof from)for(let key of __getOwnPropNames(from))__hasOwnProp.call(to,key)||key===except||__defProp(to,key,{get:()=>from[key],enumerable:!(desc=__getOwnPropDesc(from,key))||desc.enumerable});
return to},__publicField=(obj,key,value)=>{key="symbol"!==typeof key?key+"":key;key in obj?__defProp(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value;return value};global={};((target,all)=>{for(var name in all)__defProp(target,name,{get:all[name],enumerable:!0})})(global,{usePanEvent:()=>usePanEvent});module.exports=(mod=>__copyProps(__defProp({},"__esModule",{value:!0}),mod))(global);var import_event_utils2=require("module$node_modules$$chakra_ui$event_utils$dist$index"),
import_react_use_latest_ref=require("module$node_modules$$chakra_ui$react_use_latest_ref$dist$index"),import_react=require("module$node_modules$react$index"),import_event_utils=require("module$node_modules$$chakra_ui$event_utils$dist$index"),import_framesync=((mod,isNodeMode,target)=>(target=null!=mod?__create(__getProtoOf(mod)):{},__copyProps(!isNodeMode&&mod&&mod.__esModule?target:__defProp(target,"default",{value:mod,enumerable:!0}),mod)))(require("module$node_modules$framesync$dist$framesync_cjs")),
PanEvent=class{constructor(event$jscomp$0,handlers,threshold){__publicField(this,"history",[]);__publicField(this,"startEvent",null);__publicField(this,"lastEvent",null);__publicField(this,"lastEventInfo",null);__publicField(this,"handlers",{});__publicField(this,"removeListeners",()=>{});__publicField(this,"threshold",3);__publicField(this,"win");__publicField(this,"updatePoint",()=>{if(this.lastEvent&&this.lastEventInfo){var info=getPanInfo(this.lastEventInfo,this.history),isPanStarted=null!==this.startEvent;
var JSCompiler_inline_result=info.offset;var b={x:0,y:0};JSCompiler_inline_result="number"===typeof JSCompiler_inline_result&&"number"===typeof b?Math.abs(JSCompiler_inline_result-b):"x"in JSCompiler_inline_result&&"y"in JSCompiler_inline_result&&"x"in b&&"y"in b?Math.sqrt(Math.abs(JSCompiler_inline_result.x-b.x)**2+Math.abs(JSCompiler_inline_result.y-b.y)**2):0;JSCompiler_inline_result=JSCompiler_inline_result>=this.threshold;if(isPanStarted||JSCompiler_inline_result){({timestamp:JSCompiler_inline_result}=
(0,import_framesync.getFrameData)());this.history.push({...info.point,timestamp:JSCompiler_inline_result});var {onStart,onMove}=this.handlers;isPanStarted||(null==onStart?void 0:onStart(this.lastEvent,info),this.startEvent=this.lastEvent);null==onMove?void 0:onMove(this.lastEvent,info)}}});__publicField(this,"onPointerMove",(event,info)=>{this.lastEvent=event;this.lastEventInfo=info;import_framesync.default.update(this.updatePoint,!0)});__publicField(this,"onPointerUp",(event,info)=>{info=getPanInfo(info,
this.history);const {onEnd,onSessionEnd}=this.handlers;null==onSessionEnd?void 0:onSessionEnd(event,info);this.end();onEnd&&this.startEvent&&(null==onEnd?void 0:onEnd(event,info))});var _a;this.win=null!=(_a=event$jscomp$0.view)?_a:window;(0,import_event_utils.isMultiTouchEvent)(event$jscomp$0)||(this.handlers=handlers,threshold&&(this.threshold=threshold),event$jscomp$0.stopPropagation(),event$jscomp$0.preventDefault(),threshold={point:(0,import_event_utils.getEventPoint)(event$jscomp$0)},{timestamp:_a}=
(0,import_framesync.getFrameData)(),this.history=[{...threshold.point,timestamp:_a}],{onSessionStart:handlers}=handlers,null==handlers?void 0:handlers(event$jscomp$0,getPanInfo(threshold,this.history)),this.removeListeners=pipe((0,import_event_utils.addPointerEvent)(this.win,"pointermove",this.onPointerMove),(0,import_event_utils.addPointerEvent)(this.win,"pointerup",this.onPointerUp),(0,import_event_utils.addPointerEvent)(this.win,"pointercancel",this.onPointerUp)))}updateHandlers(handlers){this.handlers=
handlers}end(){var _a;null==(_a=this.removeListeners)?void 0:_a.call(this);import_framesync.cancelSync.update(this.updatePoint)}}}
//# sourceMappingURL=module$node_modules$$chakra_ui$react_use_pan_event$dist$index.js.map
