shadow$provide.module$node_modules$socket_DOT_io_parser$build$cjs$binary=function(global,require,module,exports){function _deconstructPacket(data,buffers){if(!data)return data;if(is_binary_js_1.isBinary(data)){var placeholder={_placeholder:!0,num:buffers.length};buffers.push(data);return placeholder}if(Array.isArray(data)){placeholder=Array(data.length);for(var i=0;i<data.length;i++)placeholder[i]=_deconstructPacket(data[i],buffers);return placeholder}if("object"===typeof data&&!(data instanceof Date)){placeholder=
{};for(i in data)Object.prototype.hasOwnProperty.call(data,i)&&(placeholder[i]=_deconstructPacket(data[i],buffers));return placeholder}return data}function _reconstructPacket(data,buffers){if(!data)return data;if(data&&!0===data._placeholder){if("number"===typeof data.num&&0<=data.num&&data.num<buffers.length)return buffers[data.num];throw Error("illegal attachments");}if(Array.isArray(data))for(var i=0;i<data.length;i++)data[i]=_reconstructPacket(data[i],buffers);else if("object"===typeof data)for(i in data)Object.prototype.hasOwnProperty.call(data,
i)&&(data[i]=_reconstructPacket(data[i],buffers));return data}Object.defineProperty(exports,"__esModule",{value:!0});exports.reconstructPacket=exports.deconstructPacket=void 0;const is_binary_js_1=require("module$node_modules$socket_DOT_io_parser$build$cjs$is_binary");exports.deconstructPacket=function(packet){const buffers=[];packet.data=_deconstructPacket(packet.data,buffers);packet.attachments=buffers.length;return{packet,buffers}};exports.reconstructPacket=function(packet,buffers){packet.data=
_reconstructPacket(packet.data,buffers);packet.attachments=void 0;return packet}}
//# sourceMappingURL=module$node_modules$socket_DOT_io_parser$build$cjs$binary.js.map
