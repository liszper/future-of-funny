shadow$provide.module$node_modules$$zag_js$focus_visible$dist$index=function(global,require,module,exports){function trigger(modality2,event){handlers.forEach(handler=>handler(modality2,event))}function onKeyboardEvent(event){hasEventBeforeFocus=!0;event.metaKey||!isMac&&event.altKey||event.ctrlKey||"Control"===event.key||"Shift"===event.key||"Meta"===event.key||(modality="keyboard",trigger("keyboard",event))}function onPointerEvent(event){modality="pointer";if("mousedown"===event.type||"pointerdown"===
event.type){hasEventBeforeFocus=!0;const target=event.composedPath?event.composedPath()[0]:event.target;let matches=!1;try{matches=target.matches(":focus-visible")}catch{}matches||trigger("pointer",event)}}function onClickEvent(e){e=0===e.mozInputSource&&e.isTrusted?!0:0===e.detail&&!e.pointerType;e&&(hasEventBeforeFocus=!0,modality="virtual")}function onWindowFocus(event){event.target!==window&&event.target!==document&&(hasEventBeforeFocus||hasBlurredWindowRecently||(modality="virtual",trigger("virtual",
event)),hasBlurredWindowRecently=hasEventBeforeFocus=!1)}function onWindowBlur(){hasEventBeforeFocus=!1;hasBlurredWindowRecently=!0}function setupGlobalFocusEvents(){if("undefined"!==typeof window&&!hasSetup){var {focus}=HTMLElement.prototype;HTMLElement.prototype.focus=function(...args){hasEventBeforeFocus=!0;focus.apply(this,args)};document.addEventListener("keydown",onKeyboardEvent,!0);document.addEventListener("keyup",onKeyboardEvent,!0);document.addEventListener("click",onClickEvent,!0);window.addEventListener("focus",
onWindowFocus,!0);window.addEventListener("blur",onWindowBlur,!1);"undefined"!==typeof PointerEvent?(document.addEventListener("pointerdown",onPointerEvent,!0),document.addEventListener("pointermove",onPointerEvent,!0),document.addEventListener("pointerup",onPointerEvent,!0)):(document.addEventListener("mousedown",onPointerEvent,!0),document.addEventListener("mousemove",onPointerEvent,!0),document.addEventListener("mouseup",onPointerEvent,!0));hasSetup=!0}}function trackFocusVisible(fn){setupGlobalFocusEvents();
fn("pointer"!==modality);const handler=()=>fn("pointer"!==modality);handlers.add(handler);return()=>{handlers.delete(handler)}}function trackInteractionModality(fn){setupGlobalFocusEvents();fn(modality);const handler=()=>fn(modality);handlers.add(handler);return()=>{handlers.delete(handler)}}function setInteractionModality(value){modality=value;trigger(value,null)}function getInteractionModality(){return modality}var __defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,
__getOwnPropNames=Object.getOwnPropertyNames,__hasOwnProp=Object.prototype.hasOwnProperty,__copyProps=(to,from,except,desc)=>{if(from&&"object"===typeof from||"function"===typeof from)for(let key of __getOwnPropNames(from))__hasOwnProp.call(to,key)||key===except||__defProp(to,key,{get:()=>from[key],enumerable:!(desc=__getOwnPropDesc(from,key))||desc.enumerable});return to};global={};((target,all)=>{for(var name in all)__defProp(target,name,{get:all[name],enumerable:!0})})(global,{getInteractionModality:()=>
getInteractionModality,setInteractionModality:()=>setInteractionModality,trackFocusVisible:()=>trackFocusVisible,trackInteractionModality:()=>trackInteractionModality});module.exports=(mod=>__copyProps(__defProp({},"__esModule",{value:!0}),mod))(global);var hasSetup=!1,modality=null,hasEventBeforeFocus=!1,hasBlurredWindowRecently=!1,handlers=new Set,isMac="undefined"!==typeof window&&null!=window.navigator?/^Mac/.test(window.navigator.platform):!1}
//# sourceMappingURL=module$node_modules$$zag_js$focus_visible$dist$index.js.map
