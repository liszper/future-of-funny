shadow$provide.module$node_modules$$chakra_ui$clickable$dist$index=function(global,require,module,exports){function useEventListeners(){const listeners=(0,import_react.useRef)(new Map),currentListeners=listeners.current,add=(0,import_react.useCallback)((el,type,listener,options)=>{listeners.current.set(listener,{type,el,options});el.addEventListener(type,listener,options)},[]),remove=(0,import_react.useCallback)((el,type,listener,options)=>{el.removeEventListener(type,listener,options);listeners.current.delete(listener)},
[]);(0,import_react.useEffect)(()=>()=>{currentListeners.forEach((value,key)=>{remove(value.el,value.type,key,value.options)})},[remove,currentListeners]);return{add,remove}}function isValidElement(event){const {tagName,isContentEditable}=event.target;return"INPUT"!==tagName&&"TEXTAREA"!==tagName&&!0!==isContentEditable}function useClickable(props={}){const {ref:htmlRef,isDisabled,isFocusable,clickOnEnter=!0,clickOnSpace=!0,onMouseDown,onMouseUp,onClick,onKeyDown,onKeyUp,tabIndex:tabIndexProp,onMouseOver,
onMouseLeave,...htmlProps}=props,[isButton,setIsButton]=(0,import_react2.useState)(!0),[isPressed,setIsPressed]=(0,import_react2.useState)(!1),listeners=useEventListeners();props=isButton?tabIndexProp:tabIndexProp||0;const trulyDisabled=isDisabled&&!isFocusable,handleClick=(0,import_react2.useCallback)(event=>{isDisabled?(event.stopPropagation(),event.preventDefault()):(event.currentTarget.focus(),null==onClick?void 0:onClick(event))},[isDisabled,onClick]),onDocumentKeyUp=(0,import_react2.useCallback)(e=>
{isPressed&&isValidElement(e)&&(e.preventDefault(),e.stopPropagation(),setIsPressed(!1),listeners.remove(document,"keyup",onDocumentKeyUp,!1))},[isPressed,listeners]),handleKeyDown=(0,import_react2.useCallback)(event=>{null==onKeyDown?void 0:onKeyDown(event);if(!(isDisabled||event.defaultPrevented||event.metaKey)&&isValidElement(event.nativeEvent)&&!isButton){var shouldClickOnEnter=clickOnEnter&&"Enter"===event.key;clickOnSpace&&" "===event.key&&(event.preventDefault(),setIsPressed(!0));shouldClickOnEnter&&
(event.preventDefault(),event.currentTarget.click());listeners.add(document,"keyup",onDocumentKeyUp,!1)}},[isDisabled,isButton,onKeyDown,clickOnEnter,clickOnSpace,listeners,onDocumentKeyUp]),handleKeyUp=(0,import_react2.useCallback)(event=>{null==onKeyUp?void 0:onKeyUp(event);isDisabled||event.defaultPrevented||event.metaKey||!isValidElement(event.nativeEvent)||isButton||!clickOnSpace||" "!==event.key||(event.preventDefault(),setIsPressed(!1),event.currentTarget.click())},[clickOnSpace,isButton,isDisabled,
onKeyUp]),onDocumentMouseUp=(0,import_react2.useCallback)(event=>{0===event.button&&(setIsPressed(!1),listeners.remove(document,"mouseup",onDocumentMouseUp,!1))},[listeners]),handleMouseDown=(0,import_react2.useCallback)(event=>{0===event.button&&(isDisabled?(event.stopPropagation(),event.preventDefault()):(isButton||setIsPressed(!0),event.currentTarget.focus({preventScroll:!0}),listeners.add(document,"mouseup",onDocumentMouseUp,!1),null==onMouseDown?void 0:onMouseDown(event)))},[isDisabled,isButton,
onMouseDown,listeners,onDocumentMouseUp]),handleMouseUp=(0,import_react2.useCallback)(event=>{0===event.button&&(isButton||setIsPressed(!1),null==onMouseUp?void 0:onMouseUp(event))},[onMouseUp,isButton]),handleMouseOver=(0,import_react2.useCallback)(event=>{isDisabled?event.preventDefault():null==onMouseOver?void 0:onMouseOver(event)},[isDisabled,onMouseOver]),handleMouseLeave=(0,import_react2.useCallback)(event=>{isPressed&&(event.preventDefault(),setIsPressed(!1));null==onMouseLeave?void 0:onMouseLeave(event)},
[isPressed,onMouseLeave]),ref=(0,import_react_use_merge_refs.mergeRefs)(htmlRef,node=>{node&&"BUTTON"!==node.tagName&&setIsButton(!1)});return isButton?{...htmlProps,ref,type:"button","aria-disabled":trulyDisabled?void 0:isDisabled,disabled:trulyDisabled,onClick:handleClick,onMouseDown,onMouseUp,onKeyUp,onKeyDown,onMouseOver,onMouseLeave}:{...htmlProps,ref,role:"button","data-active":(0,import_shared_utils.dataAttr)(isPressed),"aria-disabled":isDisabled?"true":void 0,tabIndex:trulyDisabled?void 0:
props,onClick:handleClick,onMouseDown:handleMouseDown,onMouseUp:handleMouseUp,onKeyUp:handleKeyUp,onKeyDown:handleKeyDown,onMouseOver:handleMouseOver,onMouseLeave:handleMouseLeave}}var __defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__hasOwnProp=Object.prototype.hasOwnProperty,__copyProps=(to,from,except,desc)=>{if(from&&"object"===typeof from||"function"===typeof from)for(let key of __getOwnPropNames(from))__hasOwnProp.call(to,
key)||key===except||__defProp(to,key,{get:()=>from[key],enumerable:!(desc=__getOwnPropDesc(from,key))||desc.enumerable});return to};global={};((target,all)=>{for(var name in all)__defProp(target,name,{get:all[name],enumerable:!0})})(global,{useClickable:()=>useClickable});module.exports=(mod=>__copyProps(__defProp({},"__esModule",{value:!0}),mod))(global);var import_shared_utils=require("module$node_modules$$chakra_ui$shared_utils$dist$index"),import_react_use_merge_refs=require("module$node_modules$$chakra_ui$react_use_merge_refs$dist$index"),
import_react=require("module$node_modules$react$index"),import_react2=require("module$node_modules$react$index")}
//# sourceMappingURL=module$node_modules$$chakra_ui$clickable$dist$index.js.map
