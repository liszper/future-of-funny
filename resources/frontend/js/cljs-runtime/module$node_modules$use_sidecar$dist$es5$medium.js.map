{
"version":3,
"file":"module$node_modules$use_sidecar$dist$es5$medium.js",
"lineCount":4,
"mappings":"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",
"sources":["node_modules/use-sidecar/dist/es5/medium.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$use_sidecar$dist$es5$medium\"] = function(global,require,module,exports) {\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createSidecarMedium = exports.createMedium = void 0;\nvar tslib_1 = require(\"tslib\");\nfunction ItoI(a) {\n    return a;\n}\nfunction innerCreateMedium(defaults, middleware) {\n    if (middleware === void 0) { middleware = ItoI; }\n    var buffer = [];\n    var assigned = false;\n    var medium = {\n        read: function () {\n            if (assigned) {\n                throw new Error('Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.');\n            }\n            if (buffer.length) {\n                return buffer[buffer.length - 1];\n            }\n            return defaults;\n        },\n        useMedium: function (data) {\n            var item = middleware(data, assigned);\n            buffer.push(item);\n            return function () {\n                buffer = buffer.filter(function (x) { return x !== item; });\n            };\n        },\n        assignSyncMedium: function (cb) {\n            assigned = true;\n            while (buffer.length) {\n                var cbs = buffer;\n                buffer = [];\n                cbs.forEach(cb);\n            }\n            buffer = {\n                push: function (x) { return cb(x); },\n                filter: function () { return buffer; },\n            };\n        },\n        assignMedium: function (cb) {\n            assigned = true;\n            var pendingQueue = [];\n            if (buffer.length) {\n                var cbs = buffer;\n                buffer = [];\n                cbs.forEach(cb);\n                pendingQueue = buffer;\n            }\n            var executeQueue = function () {\n                var cbs = pendingQueue;\n                pendingQueue = [];\n                cbs.forEach(cb);\n            };\n            var cycle = function () { return Promise.resolve().then(executeQueue); };\n            cycle();\n            buffer = {\n                push: function (x) {\n                    pendingQueue.push(x);\n                    cycle();\n                },\n                filter: function (filter) {\n                    pendingQueue = pendingQueue.filter(filter);\n                    return buffer;\n                },\n            };\n        },\n    };\n    return medium;\n}\nfunction createMedium(defaults, middleware) {\n    if (middleware === void 0) { middleware = ItoI; }\n    return innerCreateMedium(defaults, middleware);\n}\nexports.createMedium = createMedium;\n// eslint-disable-next-line @typescript-eslint/ban-types\nfunction createSidecarMedium(options) {\n    if (options === void 0) { options = {}; }\n    var medium = innerCreateMedium(null);\n    medium.options = tslib_1.__assign({ async: true, ssr: false }, options);\n    return medium;\n}\nexports.createSidecarMedium = createSidecarMedium;\n\n};"],
"names":["shadow$provide","global","require","module","exports","ItoI","a","innerCreateMedium","defaults","middleware","buffer","assigned","medium","read","Error","length","useMedium","data","item","push","filter","x","assignSyncMedium","cb","cbs","forEach","assignMedium","pendingQueue","executeQueue","Promise","resolve","then","Object","defineProperty","value","createSidecarMedium","createMedium","tslib_1","options","__assign","async","ssr"]
}
