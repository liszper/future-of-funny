shadow$provide.module$node_modules$$chakra_ui$descendant$dist$index=function(global,require,module,exports){function sortNodes(nodes){return nodes.sort((a,b)=>{a=a.compareDocumentPosition(b);if(a&Node.DOCUMENT_POSITION_FOLLOWING||a&Node.DOCUMENT_POSITION_CONTAINED_BY)return-1;if(a&Node.DOCUMENT_POSITION_PRECEDING||a&Node.DOCUMENT_POSITION_CONTAINS)return 1;if(a&Node.DOCUMENT_POSITION_DISCONNECTED||a&Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC)throw Error("Cannot sort the given nodes.");return 0})}
function getNextIndex(current,max,loop){current+=1;loop&&current>=max&&(current=0);return current}function getPrevIndex(current,max,loop){--current;loop&&0>current&&(current=max);return current}function useDescendants(){const descendants=(0,import_react2.useRef)(new DescendantsManager);useSafeLayoutEffect(()=>()=>descendants.current.destroy());return descendants.current}function useDescendant(options){const descendants=useDescendantsContext(),[index,setIndex]=(0,import_react2.useState)(-1),ref=(0,import_react2.useRef)(null);
useSafeLayoutEffect(()=>()=>{ref.current&&descendants.unregister(ref.current)},[]);useSafeLayoutEffect(()=>{if(ref.current){var dataIndex=Number(ref.current.dataset.index);index==dataIndex||Number.isNaN(dataIndex)||setIndex(dataIndex)}});options=options?descendants.register(options):descendants.register;return{descendants,index,enabledIndex:descendants.enabledIndexOf(ref.current),register:(0,import_react_use_merge_refs.mergeRefs)(options,ref)}}function createDescendantContext(){return[DescendantsContextProvider,
()=>useDescendantsContext(),()=>useDescendants(),options=>useDescendant(options)]}var __defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__hasOwnProp=Object.prototype.hasOwnProperty,__copyProps=(to,from,except,desc)=>{if(from&&"object"===typeof from||"function"===typeof from)for(let key of __getOwnPropNames(from))__hasOwnProp.call(to,key)||key===except||__defProp(to,key,{get:()=>from[key],enumerable:!(desc=__getOwnPropDesc(from,
key))||desc.enumerable});return to},__publicField=(obj,key,value)=>{key="symbol"!==typeof key?key+"":key;key in obj?__defProp(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value;return value};global={};((target,all)=>{for(var name in all)__defProp(target,name,{get:all[name],enumerable:!0})})(global,{createDescendantContext:()=>createDescendantContext,default:()=>createDescendantContext});module.exports=(mod=>__copyProps(__defProp({},"__esModule",{value:!0}),mod))(global);module=
require("module$node_modules$$chakra_ui$react_context$dist$index");var import_react_use_merge_refs=require("module$node_modules$$chakra_ui$react_use_merge_refs$dist$index"),import_react2=require("module$node_modules$react$index");require=require("module$node_modules$react$index");var useSafeLayoutEffect="undefined"!==typeof window?require.useLayoutEffect:require.useEffect,DescendantsManager=class{constructor(){__publicField(this,"descendants",new Map);__publicField(this,"register",nodeOrOptions=>
{if(null!=nodeOrOptions)return"object"==typeof nodeOrOptions&&"nodeType"in nodeOrOptions&&nodeOrOptions.nodeType===Node.ELEMENT_NODE?this.registerNode(nodeOrOptions):node=>{this.registerNode(node,nodeOrOptions)}});__publicField(this,"unregister",node=>{this.descendants.delete(node);node=sortNodes(Array.from(this.descendants.keys()));this.assignIndex(node)});__publicField(this,"destroy",()=>{this.descendants.clear()});__publicField(this,"assignIndex",descendants=>{this.descendants.forEach(descendant=>
{const index=descendants.indexOf(descendant.node);descendant.index=index;descendant.node.dataset.index=descendant.index.toString()})});__publicField(this,"count",()=>this.descendants.size);__publicField(this,"enabledCount",()=>this.enabledValues().length);__publicField(this,"values",()=>Array.from(this.descendants.values()).sort((a,b)=>a.index-b.index));__publicField(this,"enabledValues",()=>this.values().filter(descendant=>!descendant.disabled));__publicField(this,"item",index=>{if(0!==this.count())return this.values()[index]});
__publicField(this,"enabledItem",index=>{if(0!==this.enabledCount())return this.enabledValues()[index]});__publicField(this,"first",()=>this.item(0));__publicField(this,"firstEnabled",()=>this.enabledItem(0));__publicField(this,"last",()=>this.item(this.descendants.size-1));__publicField(this,"lastEnabled",()=>{const lastIndex=this.enabledValues().length-1;return this.enabledItem(lastIndex)});__publicField(this,"indexOf",node=>{var _a,_b;return node?null!=(_b=null==(_a=this.descendants.get(node))?
void 0:_a.index)?_b:-1:-1});__publicField(this,"enabledIndexOf",node=>null==node?-1:this.enabledValues().findIndex(i=>i.node.isSameNode(node)));__publicField(this,"next",(index,loop=!0)=>{index=getNextIndex(index,this.count(),loop);return this.item(index)});__publicField(this,"nextEnabled",(index,loop=!0)=>{if(index=this.item(index))return index=this.enabledIndexOf(index.node),loop=getNextIndex(index,this.enabledCount(),loop),this.enabledItem(loop)});__publicField(this,"prev",(index,loop=!0)=>{index=
getPrevIndex(index,this.count()-1,loop);return this.item(index)});__publicField(this,"prevEnabled",(index,loop=!0)=>{if(index=this.item(index))return index=this.enabledIndexOf(index.node),loop=getPrevIndex(index,this.enabledCount()-1,loop),this.enabledItem(loop)});__publicField(this,"registerNode",(node,options)=>{if(node&&!this.descendants.has(node)){var keys=Array.from(this.descendants.keys()).concat(node);keys=sortNodes(keys);if(null==options?0:options.disabled)options.disabled=!!options.disabled;
this.descendants.set(node,{node,index:-1,...options});this.assignIndex(keys)}})}},[DescendantsContextProvider,useDescendantsContext]=(0,module.createContext)({name:"DescendantsProvider",errorMessage:"useDescendantsContext must be used within DescendantsProvider"})}
//# sourceMappingURL=module$node_modules$$chakra_ui$descendant$dist$index.js.map
