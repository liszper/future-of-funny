{
"version":3,
"file":"module$node_modules$use_sidecar$dist$es5$hook.js",
"lineCount":3,
"mappings":"AAAAA,cAAA,CAAA,6CAAA,CAAkE,QAAQ,CAACC,MAAD,CAAQC,OAAR,CAAgBC,MAAhB,CAAuBC,OAAvB,CAAgC,CAiB1GC,QAASA,eAAc,CAACC,QAAD,CAAWC,MAAX,CAAmB,CACtC,IAAIC,QAAWD,MAAXC,EAAqBD,MAAOC,CAAAA,OAA5BA,EAAwCC,UAExCC,QAAAA,CAAK,GAAIC,OAAQC,CAAAA,QAAZ,EADWC,KAAMC,CAAAA,GAAIC,CAAAA,UACC,EADcF,KAAMC,CAAAA,GAAIE,CAAAA,MACxB,EADoCR,OAAQS,CAAAA,GAC5C,EADoD,CAACT,OAAQU,CAAAA,KAC7D,CAAgB,QAAS,EAAG,CAAE,MAAOC,MAAMC,CAAAA,GAAN,CAAUd,QAAV,CAAT,CAA5B,CAA8De,IAAAA,EAApF,CAH6B,KAGmEC,IAAMZ,OAAA,CAAG,CAAH,CAHzE,CAGgFa,OAASb,OAAA,CAAG,CAAH,CAC3Hc,QAAAA,CAAK,GAAIb,OAAQC,CAAAA,QAAZ,EAAsB,IAAtB,CAJ6B,KAIAa,MAAQD,OAAA,CAAG,CAAH,CAJR,CAIeE,SAAWF,OAAA,CAAG,CAAH,CAChE,IAAIb,OAAQgB,CAAAA,SAAZ,EAAuB,QAAS,EAAG,CAC1BL,GAAL,EACIhB,QAAA,EAAWsB,CAAAA,IAAX,CAAgB,QAAS,CAACC,GAAD,CAAM,CAC3B,IAAIC;AAAWvB,MAAA,CAASA,MAAOwB,CAAAA,IAAP,EAAT,CAAyBF,GAAIG,CAAAA,OAA7B,EAAwCH,GACvD,IAAI,CAACC,QAAL,CAAe,CACXG,OAAQR,CAAAA,KAAR,CAAc,8BAAd,CAA8CnB,QAA9C,CAEA,IAAIC,MAAJ,CAAY,CACR0B,OAAQR,CAAAA,KAAR,CAAc,4BAAd,CAA4ClB,MAA5C,CACA,KAAA2B,QAAcC,KAAJ,CAAU,8BAAV,CAFF,CAAZ,IAKID,QAAA,CAAcC,KAAJ,CAAU,kCAAV,CAEdT,SAAA,CAAS,QAAS,EAAG,CAAE,MAAOQ,QAAT,CAArB,CACA,MAAMA,QAAN,CAXW,CAaff,KAAMiB,CAAAA,GAAN,CAAU9B,QAAV,CAAoBwB,QAApB,CACAP,OAAA,CAAO,QAAS,EAAG,CAAE,MAAOO,SAAT,CAAnB,CAhB2B,CAA/B,CAiBG,QAAS,CAACO,CAAD,CAAI,CAAE,MAAOX,SAAA,CAAS,QAAS,EAAG,CAAE,MAAOW,EAAT,CAArB,CAAT,CAjBhB,CAF2B,CAAnC,CAqBG,EArBH,CAsBA,OAAO,CAACf,GAAD,CAAMG,KAAN,CA3B+B,CAf1Ca,MAAOC,CAAAA,cAAP,CAAsBnC,OAAtB,CAA+B,YAA/B;AAA6C,CAAEoC,MAAO,CAAA,CAAT,CAA7C,CACApC,QAAQqC,CAAAA,UAAR,CAAqB,IAAK,EAC1B,KAAI9B,QAAUT,OAAA,CAAQ,iCAAR,CAAd,CACIW,MAAQX,OAAA,CAAQ,8CAAR,CADZ,CAEIiB,MAAQ,IAAIuB,OAFhB,CAGIjC,WAAa,EASjBL,QAAQqC,CAAAA,UAAR,CARAA,QAAmB,CAACnC,QAAD,CAAWC,MAAX,CAAmB,CAClC,IAAIC,QAAWD,MAAXC,EAAqBD,MAAOC,CAAAA,OAA5BA,EAAwCC,UAC5C,OAAII,MAAMC,CAAAA,GAAIE,CAAAA,MAAd,EAAwB,CAACR,OAAQS,CAAAA,GAAjC,CACW,CAAC,IAAD,CAAO,IAAP,CADX,CAIOZ,cAAA,CAAeC,QAAf,CAAyBC,MAAzB,CAN2B,CARoE;",
"sources":["node_modules/use-sidecar/dist/es5/hook.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$use_sidecar$dist$es5$hook\"] = function(global,require,module,exports) {\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useSidecar = void 0;\nvar react_1 = require(\"react\");\nvar env_1 = require(\"./env\");\nvar cache = new WeakMap();\nvar NO_OPTIONS = {};\nfunction useSidecar(importer, effect) {\n    var options = (effect && effect.options) || NO_OPTIONS;\n    if (env_1.env.isNode && !options.ssr) {\n        return [null, null];\n    }\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    return useRealSidecar(importer, effect);\n}\nexports.useSidecar = useSidecar;\nfunction useRealSidecar(importer, effect) {\n    var options = (effect && effect.options) || NO_OPTIONS;\n    var couldUseCache = env_1.env.forceCache || (env_1.env.isNode && !!options.ssr) || !options.async;\n    var _a = (0, react_1.useState)(couldUseCache ? function () { return cache.get(importer); } : undefined), Car = _a[0], setCar = _a[1];\n    var _b = (0, react_1.useState)(null), error = _b[0], setError = _b[1];\n    (0, react_1.useEffect)(function () {\n        if (!Car) {\n            importer().then(function (car) {\n                var resolved = effect ? effect.read() : car.default || car;\n                if (!resolved) {\n                    console.error('Sidecar error: with importer', importer);\n                    var error_1;\n                    if (effect) {\n                        console.error('Sidecar error: with medium', effect);\n                        error_1 = new Error('Sidecar medium was not found');\n                    }\n                    else {\n                        error_1 = new Error('Sidecar was not found in exports');\n                    }\n                    setError(function () { return error_1; });\n                    throw error_1;\n                }\n                cache.set(importer, resolved);\n                setCar(function () { return resolved; });\n            }, function (e) { return setError(function () { return e; }); });\n        }\n    }, []);\n    return [Car, error];\n}\n\n};"],
"names":["shadow$provide","global","require","module","exports","useRealSidecar","importer","effect","options","NO_OPTIONS","_a","react_1","useState","env_1","env","forceCache","isNode","ssr","async","cache","get","undefined","Car","setCar","_b","error","setError","useEffect","then","car","resolved","read","default","console","error_1","Error","set","e","Object","defineProperty","value","useSidecar","WeakMap"]
}
