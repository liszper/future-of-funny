shadow$provide.module$node_modules$engine_DOT_io_parser$build$cjs$decodePacket_browser=function(global,require,module,exports){Object.defineProperty(exports,"__esModule",{value:!0});const commons_js_1=require("module$node_modules$engine_DOT_io_parser$build$cjs$commons"),base64_arraybuffer_js_1=require("module$node_modules$engine_DOT_io_parser$build$cjs$contrib$base64_arraybuffer"),withNativeArrayBuffer="function"===typeof ArrayBuffer,mapBinary=(data,binaryType)=>{switch(binaryType){case "blob":return data instanceof
ArrayBuffer?new Blob([data]):data;default:return data}};exports.default=(encodedPacket,binaryType)=>{if("string"!==typeof encodedPacket)return{type:"message",data:mapBinary(encodedPacket,binaryType)};const type=encodedPacket.charAt(0);return"b"===type?(encodedPacket=encodedPacket.substring(1),withNativeArrayBuffer?(encodedPacket=(0,base64_arraybuffer_js_1.decode)(encodedPacket),binaryType=mapBinary(encodedPacket,binaryType)):binaryType={base64:!0,data:encodedPacket},{type:"message",data:binaryType}):
commons_js_1.PACKET_TYPES_REVERSE[type]?1<encodedPacket.length?{type:commons_js_1.PACKET_TYPES_REVERSE[type],data:encodedPacket.substring(1)}:{type:commons_js_1.PACKET_TYPES_REVERSE[type]}:commons_js_1.ERROR_PACKET}}
//# sourceMappingURL=module$node_modules$engine_DOT_io_parser$build$cjs$decodePacket_browser.js.map
