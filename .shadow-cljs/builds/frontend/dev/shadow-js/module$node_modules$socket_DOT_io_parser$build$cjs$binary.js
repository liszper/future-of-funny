["^ ","~:resource-id",["~:shadow.build.npm/resource","node_modules/socket_DOT_io-parser/build/cjs/binary.js"],"~:js","shadow$provide.module$node_modules$socket_DOT_io_parser$build$cjs$binary=function(global,require,module,exports){function _deconstructPacket(data,buffers){if(!data)return data;if(is_binary_js_1.isBinary(data)){var placeholder={_placeholder:!0,num:buffers.length};buffers.push(data);return placeholder}if(Array.isArray(data)){placeholder=Array(data.length);for(var i=0;i<data.length;i++)placeholder[i]=_deconstructPacket(data[i],buffers);return placeholder}if(\"object\"===typeof data&&!(data instanceof Date)){placeholder=\n{};for(i in data)Object.prototype.hasOwnProperty.call(data,i)&&(placeholder[i]=_deconstructPacket(data[i],buffers));return placeholder}return data}function _reconstructPacket(data,buffers){if(!data)return data;if(data&&!0===data._placeholder){if(\"number\"===typeof data.num&&0<=data.num&&data.num<buffers.length)return buffers[data.num];throw Error(\"illegal attachments\");}if(Array.isArray(data))for(var i=0;i<data.length;i++)data[i]=_reconstructPacket(data[i],buffers);else if(\"object\"===typeof data)for(i in data)Object.prototype.hasOwnProperty.call(data,\ni)&&(data[i]=_reconstructPacket(data[i],buffers));return data}Object.defineProperty(exports,\"__esModule\",{value:!0});exports.reconstructPacket=exports.deconstructPacket=void 0;const is_binary_js_1=require(\"module$node_modules$socket_DOT_io_parser$build$cjs$is_binary\");exports.deconstructPacket=function(packet){const buffers=[];packet.data=_deconstructPacket(packet.data,buffers);packet.attachments=buffers.length;return{packet,buffers}};exports.reconstructPacket=function(packet,buffers){packet.data=\n_reconstructPacket(packet.data,buffers);packet.attachments=void 0;return packet}}","~:source","shadow$provide[\"module$node_modules$socket_DOT_io_parser$build$cjs$binary\"] = function(global,require,module,exports) {\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.reconstructPacket = exports.deconstructPacket = void 0;\nconst is_binary_js_1 = require(\"./is-binary.js\");\n/**\n * Replaces every Buffer | ArrayBuffer | Blob | File in packet with a numbered placeholder.\n *\n * @param {Object} packet - socket.io event packet\n * @return {Object} with deconstructed packet and list of buffers\n * @public\n */\nfunction deconstructPacket(packet) {\n    const buffers = [];\n    const packetData = packet.data;\n    const pack = packet;\n    pack.data = _deconstructPacket(packetData, buffers);\n    pack.attachments = buffers.length; // number of binary 'attachments'\n    return { packet: pack, buffers: buffers };\n}\nexports.deconstructPacket = deconstructPacket;\nfunction _deconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (is_binary_js_1.isBinary(data)) {\n        const placeholder = { _placeholder: true, num: buffers.length };\n        buffers.push(data);\n        return placeholder;\n    }\n    else if (Array.isArray(data)) {\n        const newData = new Array(data.length);\n        for (let i = 0; i < data.length; i++) {\n            newData[i] = _deconstructPacket(data[i], buffers);\n        }\n        return newData;\n    }\n    else if (typeof data === \"object\" && !(data instanceof Date)) {\n        const newData = {};\n        for (const key in data) {\n            if (Object.prototype.hasOwnProperty.call(data, key)) {\n                newData[key] = _deconstructPacket(data[key], buffers);\n            }\n        }\n        return newData;\n    }\n    return data;\n}\n/**\n * Reconstructs a binary packet from its placeholder packet and buffers\n *\n * @param {Object} packet - event packet with placeholders\n * @param {Array} buffers - binary buffers to put in placeholder positions\n * @return {Object} reconstructed packet\n * @public\n */\nfunction reconstructPacket(packet, buffers) {\n    packet.data = _reconstructPacket(packet.data, buffers);\n    packet.attachments = undefined; // no longer useful\n    return packet;\n}\nexports.reconstructPacket = reconstructPacket;\nfunction _reconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (data && data._placeholder === true) {\n        const isIndexValid = typeof data.num === \"number\" &&\n            data.num >= 0 &&\n            data.num < buffers.length;\n        if (isIndexValid) {\n            return buffers[data.num]; // appropriate buffer (should be natural order anyway)\n        }\n        else {\n            throw new Error(\"illegal attachments\");\n        }\n    }\n    else if (Array.isArray(data)) {\n        for (let i = 0; i < data.length; i++) {\n            data[i] = _reconstructPacket(data[i], buffers);\n        }\n    }\n    else if (typeof data === \"object\") {\n        for (const key in data) {\n            if (Object.prototype.hasOwnProperty.call(data, key)) {\n                data[key] = _reconstructPacket(data[key], buffers);\n            }\n        }\n    }\n    return data;\n}\n\n};","~:removed-requires",["~#set",[]],"~:actual-requires",["^5",["~$shadow.js","~$module$node_modules$socket_DOT_io_parser$build$cjs$is_binary"]],"~:properties",["^5",["deconstructPacket","__esModule","value","packet","_placeholder","num","data","attachments","buffers","reconstructPacket"]],"~:compiled-at",1681642524938,"~:source-map-json","{\n\"version\":3,\n\"file\":\"module$node_modules$socket_DOT_io_parser$build$cjs$binary.js\",\n\"lineCount\":4,\n\"mappings\":\"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\",\n\"sources\":[\"node_modules/socket_DOT_io-parser/build/cjs/binary.js\"],\n\"sourcesContent\":[\"shadow$provide[\\\"module$node_modules$socket_DOT_io_parser$build$cjs$binary\\\"] = function(global,require,module,exports) {\\n\\\"use strict\\\";\\nObject.defineProperty(exports, \\\"__esModule\\\", { value: true });\\nexports.reconstructPacket = exports.deconstructPacket = void 0;\\nconst is_binary_js_1 = require(\\\"./is-binary.js\\\");\\n/**\\n * Replaces every Buffer | ArrayBuffer | Blob | File in packet with a numbered placeholder.\\n *\\n * @param {Object} packet - socket.io event packet\\n * @return {Object} with deconstructed packet and list of buffers\\n * @public\\n */\\nfunction deconstructPacket(packet) {\\n    const buffers = [];\\n    const packetData = packet.data;\\n    const pack = packet;\\n    pack.data = _deconstructPacket(packetData, buffers);\\n    pack.attachments = buffers.length; // number of binary 'attachments'\\n    return { packet: pack, buffers: buffers };\\n}\\nexports.deconstructPacket = deconstructPacket;\\nfunction _deconstructPacket(data, buffers) {\\n    if (!data)\\n        return data;\\n    if (is_binary_js_1.isBinary(data)) {\\n        const placeholder = { _placeholder: true, num: buffers.length };\\n        buffers.push(data);\\n        return placeholder;\\n    }\\n    else if (Array.isArray(data)) {\\n        const newData = new Array(data.length);\\n        for (let i = 0; i < data.length; i++) {\\n            newData[i] = _deconstructPacket(data[i], buffers);\\n        }\\n        return newData;\\n    }\\n    else if (typeof data === \\\"object\\\" && !(data instanceof Date)) {\\n        const newData = {};\\n        for (const key in data) {\\n            if (Object.prototype.hasOwnProperty.call(data, key)) {\\n                newData[key] = _deconstructPacket(data[key], buffers);\\n            }\\n        }\\n        return newData;\\n    }\\n    return data;\\n}\\n/**\\n * Reconstructs a binary packet from its placeholder packet and buffers\\n *\\n * @param {Object} packet - event packet with placeholders\\n * @param {Array} buffers - binary buffers to put in placeholder positions\\n * @return {Object} reconstructed packet\\n * @public\\n */\\nfunction reconstructPacket(packet, buffers) {\\n    packet.data = _reconstructPacket(packet.data, buffers);\\n    packet.attachments = undefined; // no longer useful\\n    return packet;\\n}\\nexports.reconstructPacket = reconstructPacket;\\nfunction _reconstructPacket(data, buffers) {\\n    if (!data)\\n        return data;\\n    if (data && data._placeholder === true) {\\n        const isIndexValid = typeof data.num === \\\"number\\\" &&\\n            data.num >= 0 &&\\n            data.num < buffers.length;\\n        if (isIndexValid) {\\n            return buffers[data.num]; // appropriate buffer (should be natural order anyway)\\n        }\\n        else {\\n            throw new Error(\\\"illegal attachments\\\");\\n        }\\n    }\\n    else if (Array.isArray(data)) {\\n        for (let i = 0; i < data.length; i++) {\\n            data[i] = _reconstructPacket(data[i], buffers);\\n        }\\n    }\\n    else if (typeof data === \\\"object\\\") {\\n        for (const key in data) {\\n            if (Object.prototype.hasOwnProperty.call(data, key)) {\\n                data[key] = _reconstructPacket(data[key], buffers);\\n            }\\n        }\\n    }\\n    return data;\\n}\\n\\n};\"],\n\"names\":[\"shadow$provide\",\"global\",\"require\",\"module\",\"exports\",\"_deconstructPacket\",\"data\",\"buffers\",\"is_binary_js_1\",\"isBinary\",\"placeholder\",\"_placeholder\",\"num\",\"length\",\"push\",\"Array\",\"isArray\",\"newData\",\"i\",\"Date\",\"key\",\"Object\",\"prototype\",\"hasOwnProperty\",\"call\",\"_reconstructPacket\",\"Error\",\"defineProperty\",\"value\",\"reconstructPacket\",\"deconstructPacket\",\"packet\",\"attachments\",\"undefined\"]\n}\n"]